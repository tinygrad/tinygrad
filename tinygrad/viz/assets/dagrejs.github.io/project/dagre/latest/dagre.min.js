var dagre=(()=>{var R=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var A=R((Di,pe)=>{var tt=(()=>{var e=Object.defineProperty,r=Object.getOwnPropertyNames,t=(T,j,q)=>j in T?e(T,j,{enumerable:!0,configurable:!0,writable:!0,value:q}):T[j]=q,n=(T,j)=>function(){return j||(0,T[r(T)[0]])((j={exports:{}}).exports,j),j.exports},i=(T,j,q)=>t(T,typeof j!="symbol"?j+"":j,q),a=n({"lib/graph.js"(T,j){"use strict";var q="\0",w="\0",_="",p=class{constructor(l){i(this,"_isDirected",!0),i(this,"_isMultigraph",!1),i(this,"_isCompound",!1),i(this,"_label"),i(this,"_defaultNodeLabelFn",()=>{}),i(this,"_defaultEdgeLabelFn",()=>{}),i(this,"_nodes",{}),i(this,"_in",{}),i(this,"_preds",{}),i(this,"_out",{}),i(this,"_sucs",{}),i(this,"_edgeObjs",{}),i(this,"_edgeLabels",{}),i(this,"_nodeCount",0),i(this,"_edgeCount",0),i(this,"_parent"),i(this,"_children"),l&&(this._isDirected=Object.hasOwn(l,"directed")?l.directed:!0,this._isMultigraph=Object.hasOwn(l,"multigraph")?l.multigraph:!1,this._isCompound=Object.hasOwn(l,"compound")?l.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[w]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(l){return this._label=l,this}graph(){return this._label}setDefaultNodeLabel(l){return this._defaultNodeLabelFn=l,typeof l!="function"&&(this._defaultNodeLabelFn=()=>l),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var l=this;return this.nodes().filter(h=>Object.keys(l._in[h]).length===0)}sinks(){var l=this;return this.nodes().filter(h=>Object.keys(l._out[h]).length===0)}setNodes(l,h){var E=arguments,k=this;return l.forEach(function(y){E.length>1?k.setNode(y,h):k.setNode(y)}),this}setNode(l,h){return Object.hasOwn(this._nodes,l)?(arguments.length>1&&(this._nodes[l]=h),this):(this._nodes[l]=arguments.length>1?h:this._defaultNodeLabelFn(l),this._isCompound&&(this._parent[l]=w,this._children[l]={},this._children[w][l]=!0),this._in[l]={},this._preds[l]={},this._out[l]={},this._sucs[l]={},++this._nodeCount,this)}node(l){return this._nodes[l]}hasNode(l){return Object.hasOwn(this._nodes,l)}removeNode(l){var h=this;if(Object.hasOwn(this._nodes,l)){var E=k=>h.removeEdge(h._edgeObjs[k]);delete this._nodes[l],this._isCompound&&(this._removeFromParentsChildList(l),delete this._parent[l],this.children(l).forEach(function(k){h.setParent(k)}),delete this._children[l]),Object.keys(this._in[l]).forEach(E),delete this._in[l],delete this._preds[l],Object.keys(this._out[l]).forEach(E),delete this._out[l],delete this._sucs[l],--this._nodeCount}return this}setParent(l,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(h===void 0)h=w;else{h+="";for(var E=h;E!==void 0;E=this.parent(E))if(E===l)throw new Error("Setting "+h+" as parent of "+l+" would create a cycle");this.setNode(h)}return this.setNode(l),this._removeFromParentsChildList(l),this._parent[l]=h,this._children[h][l]=!0,this}_removeFromParentsChildList(l){delete this._children[this._parent[l]][l]}parent(l){if(this._isCompound){var h=this._parent[l];if(h!==w)return h}}children(l=w){if(this._isCompound){var h=this._children[l];if(h)return Object.keys(h)}else{if(l===w)return this.nodes();if(this.hasNode(l))return[]}}predecessors(l){var h=this._preds[l];if(h)return Object.keys(h)}successors(l){var h=this._sucs[l];if(h)return Object.keys(h)}neighbors(l){var h=this.predecessors(l);if(h){let k=new Set(h);for(var E of this.successors(l))k.add(E);return Array.from(k.values())}}isLeaf(l){var h;return this.isDirected()?h=this.successors(l):h=this.neighbors(l),h.length===0}filterNodes(l){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var E=this;Object.entries(this._nodes).forEach(function([O,I]){l(O)&&h.setNode(O,I)}),Object.values(this._edgeObjs).forEach(function(O){h.hasNode(O.v)&&h.hasNode(O.w)&&h.setEdge(O,E.edge(O))});var k={};function y(O){var I=E.parent(O);if(I===void 0||h.hasNode(I))return k[O]=I,I;if(I in k)return k[I];for(var L=[O,I],F=I;;){if(F=E.parent(F),F===void 0||h.hasNode(F)){for(var U=0;U<L.length;U++)k[L[U]]=F;return F}else if(F in k){for(var ce=k[F],$=0;$<L.length;$++)k[L[$]]=ce;return ce}L.push(F)}}return this._isCompound&&h.nodes().forEach(O=>h.setParent(O,y(O))),h}setDefaultEdgeLabel(l){return this._defaultEdgeLabelFn=l,typeof l!="function"&&(this._defaultEdgeLabelFn=()=>l),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(l,h){var E=this,k=arguments;return l.reduce(function(y,O){return k.length>1?E.setEdge(y,O,h):E.setEdge(y,O),O}),this}setEdge(){var l,h,E,k,y=!1,O=arguments[0];typeof O=="object"&&O!==null&&"v"in O?(l=O.v,h=O.w,E=O.name,arguments.length===2&&(k=arguments[1],y=!0)):(l=O,h=arguments[1],E=arguments[3],arguments.length>2&&(k=arguments[2],y=!0)),l=""+l,h=""+h,E!==void 0&&(E=""+E);var I=g(this._isDirected,l,h,E);if(Object.hasOwn(this._edgeLabels,I))return y&&(this._edgeLabels[I]=k),this;if(E!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(h),this._edgeLabels[I]=y?k:this._defaultEdgeLabelFn(l,h,E);var L=x(this._isDirected,l,h,E);return l=L.v,h=L.w,Object.freeze(L),this._edgeObjs[I]=L,m(this._preds[h],l),m(this._sucs[l],h),this._in[h][I]=L,this._out[l][I]=L,this._edgeCount++,this}edge(l,h,E){var k=arguments.length===1?v(this._isDirected,arguments[0]):g(this._isDirected,l,h,E);return this._edgeLabels[k]}edgeAsObj(){let l=this.edge(...arguments);return typeof l!="object"?{label:l}:l}hasEdge(l,h,E){var k=arguments.length===1?v(this._isDirected,arguments[0]):g(this._isDirected,l,h,E);return Object.hasOwn(this._edgeLabels,k)}removeEdge(l,h,E){var k=arguments.length===1?v(this._isDirected,arguments[0]):g(this._isDirected,l,h,E),y=this._edgeObjs[k];return y&&(l=y.v,h=y.w,delete this._edgeLabels[k],delete this._edgeObjs[k],b(this._preds[h],l),b(this._sucs[l],h),delete this._in[h][k],delete this._out[l][k],this._edgeCount--),this}inEdges(l,h){return this.isDirected()?this.filterEdges(this._in[l],l,h):this.nodeEdges(l,h)}outEdges(l,h){return this.isDirected()?this.filterEdges(this._out[l],l,h):this.nodeEdges(l,h)}nodeEdges(l,h){if(l in this._nodes)return this.filterEdges({...this._in[l],...this._out[l]},l,h)}filterEdges(l,h,E){if(l){var k=Object.values(l);return E?k.filter(function(y){return y.v===h&&y.w===E||y.v===E&&y.w===h}):k}}};function m(l,h){l[h]?l[h]++:l[h]=1}function b(l,h){--l[h]||delete l[h]}function g(l,h,E,k){var y=""+h,O=""+E;if(!l&&y>O){var I=y;y=O,O=I}return y+_+O+_+(k===void 0?q:k)}function x(l,h,E,k){var y=""+h,O=""+E;if(!l&&y>O){var I=y;y=O,O=I}var L={v:y,w:O};return k&&(L.name=k),L}function v(l,h){return g(l,h.v,h.w,h.name)}j.exports=p}}),s=n({"lib/version.js"(T,j){j.exports="3.0.4"}}),o=n({"lib/index.js"(T,j){j.exports={Graph:a(),version:s()}}}),d=n({"lib/json.js"(T,j){var q=a();j.exports={write:w,read:m};function w(b){var g={options:{directed:b.isDirected(),multigraph:b.isMultigraph(),compound:b.isCompound()},nodes:_(b),edges:p(b)};return b.graph()!==void 0&&(g.value=structuredClone(b.graph())),g}function _(b){return b.nodes().map(function(g){var x=b.node(g),v=b.parent(g),l={v:g};return x!==void 0&&(l.value=x),v!==void 0&&(l.parent=v),l})}function p(b){return b.edges().map(function(g){var x=b.edge(g),v={v:g.v,w:g.w};return g.name!==void 0&&(v.name=g.name),x!==void 0&&(v.value=x),v})}function m(b){var g=new q(b.options).setGraph(b.value);return b.nodes.forEach(function(x){g.setNode(x.v,x.value),x.parent&&g.setParent(x.v,x.parent)}),b.edges.forEach(function(x){g.setEdge({v:x.v,w:x.w,name:x.name},x.value)}),g}}}),u=n({"lib/alg/bellman-ford.js"(T,j){j.exports=w;var q=()=>1;function w(p,m,b,g){return _(p,String(m),b||q,g||function(x){return p.outEdges(x)})}function _(p,m,b,g){var x={},v=!0,l=0,h=p.nodes(),E=function(I){var L=b(I);x[I.v].distance+L<x[I.w].distance&&(x[I.w]={distance:x[I.v].distance+L,predecessor:I.v},v=!0)},k=function(){h.forEach(function(I){g(I).forEach(function(L){var F=L.v===I?L.v:L.w,U=F===L.v?L.w:L.v;E({v:F,w:U})})})};h.forEach(function(I){var L=I===m?0:Number.POSITIVE_INFINITY;x[I]={distance:L}});for(var y=h.length,O=1;O<y&&(v=!1,l++,k(),!!v);O++);if(l===y-1&&(v=!1,k(),v))throw new Error("The graph contains a negative weight cycle");return x}}}),f=n({"lib/alg/components.js"(T,j){j.exports=q;function q(w){var _={},p=[],m;function b(g){for(var x=[g];x.length>0;){var v=x.pop();if(!Object.hasOwn(_,v)){_[v]=!0,m.push(v);var l=w.successors(v);if(l)for(var h=l.length-1;h>=0;h--)x.push(l[h]);var E=w.predecessors(v);if(E)for(var k=E.length-1;k>=0;k--)x.push(E[k])}}}return w.nodes().forEach(function(g){m=[],b(g),m.length&&p.push(m)}),p}}}),c=n({"lib/data/priority-queue.js"(T,j){var q=class{constructor(){i(this,"_arr",[]),i(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(w){return w.key})}has(w){return Object.hasOwn(this._keyIndices,w)}priority(w){var _=this._keyIndices[w];if(_!==void 0)return this._arr[_].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(w,_){var p=this._keyIndices;if(w=String(w),!Object.hasOwn(p,w)){var m=this._arr,b=m.length;return p[w]=b,m.push({key:w,priority:_}),this._decrease(b),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var w=this._arr.pop();return delete this._keyIndices[w.key],this._heapify(0),w.key}decrease(w,_){var p=this._keyIndices[w];if(_>this._arr[p].priority)throw new Error("New priority is greater than current priority. Key: "+w+" Old: "+this._arr[p].priority+" New: "+_);this._arr[p].priority=_,this._decrease(p)}_heapify(w){for(var _=this._arr;;){var p=2*w,m=p+1,b=w;if(p<_.length)if(b=_[p].priority<_[b].priority?p:b,m<_.length&&(b=_[m].priority<_[b].priority?m:b),b!==w)this._swap(w,b),w=b;else break;else break}}_decrease(w){for(var _=this._arr,p=_[w].priority,m;w!==0&&(m=w>>1,!(_[m].priority<p));)this._swap(w,m),w=m}_swap(w,_){var p=this._arr,m=this._keyIndices,b=p[w],g=p[_];p[w]=g,p[_]=b,m[g.key]=w,m[b.key]=_}};j.exports=q}}),N=n({"lib/alg/dijkstra.js"(T,j){var q=c();j.exports=_;var w=()=>1;function _(m,b,g,x){var v=function(l){return m.outEdges(l)};return p(m,String(b),g||w,x||v)}function p(m,b,g,x){var v={},l=new q,h,E,k=function(y){var O=y.v!==h?y.v:y.w,I=v[O],L=g(y),F=E.distance+L;if(L<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+L);F<I.distance&&(I.distance=F,I.predecessor=h,l.decrease(O,F))};for(m.nodes().forEach(function(y){var O=y===b?0:Number.POSITIVE_INFINITY;v[y]={distance:O},l.add(y,O)});l.size()>0&&(h=l.removeMin(),E=v[h],E.distance!==Number.POSITIVE_INFINITY);)x(h).forEach(k);return v}}}),C=n({"lib/alg/dijkstra-all.js"(T,j){var q=N();j.exports=w;function w(_,p,m){return _.nodes().reduce(function(b,g){return b[g]=q(_,g,p,m),b},{})}}}),S=n({"lib/alg/extract-path.js"(T,j){j.exports=q;function q(_,p,m){if(_[p].predecessor!==void 0)throw new Error("Invalid source vertex");if(_[m].predecessor===void 0&&m!==p)throw new Error("Invalid destination vertex");return{weight:_[m].distance,path:w(_,p,m)}}function w(_,p,m){for(var b=[],g=m;g!==p;)b.push(g),g=_[g].predecessor;return b.push(p),b.reverse()}}}),M=n({"lib/alg/tarjan.js"(T,j){j.exports=q;function q(w){var _=0,p=[],m={},b=[];function g(x){var v=[[x,0]];for(m[x]={onStack:!0,lowlink:_,index:_++},p.push(x);v.length>0;){var l=v[v.length-1],h=l[0],E=w.successors(h),k=l[1];if(k<E.length){l[1]=k+1;var y=E[k];Object.hasOwn(m,y)?m[y].onStack&&(m[h].lowlink=Math.min(m[h].lowlink,m[y].index)):(m[y]={onStack:!0,lowlink:_,index:_++},p.push(y),v.push([y,0]))}else{v.pop();var O=m[h];if(v.length>0){var I=v[v.length-1][0];m[I].lowlink=Math.min(m[I].lowlink,O.lowlink)}if(O.lowlink===O.index){var L=[],F;do F=p.pop(),m[F].onStack=!1,L.push(F);while(h!==F);b.push(L)}}}}return w.nodes().forEach(function(x){Object.hasOwn(m,x)||g(x)}),b}}}),P=n({"lib/alg/find-cycles.js"(T,j){var q=M();j.exports=w;function w(_){return q(_).filter(function(p){return p.length>1||p.length===1&&_.hasEdge(p[0],p[0])})}}}),D=n({"lib/alg/floyd-warshall.js"(T,j){j.exports=w;var q=()=>1;function w(p,m,b){return _(p,m||q,b||function(g){return p.outEdges(g)})}function _(p,m,b){var g={},x=p.nodes();return x.forEach(function(v){g[v]={},g[v][v]={distance:0},x.forEach(function(l){v!==l&&(g[v][l]={distance:Number.POSITIVE_INFINITY})}),b(v).forEach(function(l){var h=l.v===v?l.w:l.v,E=m(l);g[v][h]={distance:E,predecessor:v}})}),x.forEach(function(v){var l=g[v];x.forEach(function(h){var E=g[h];x.forEach(function(k){var y=E[v],O=l[k],I=E[k],L=y.distance+O.distance;L<I.distance&&(I.distance=L,I.predecessor=O.predecessor)})})}),g}}}),Y=n({"lib/alg/topsort.js"(T,j){function q(_){var p={},m={},b=[];function g(x){for(var v=[[x,0]];v.length>0;){var l=v[v.length-1],h=l[0],E=l[1];if(E===0){if(Object.hasOwn(m,h))throw new w;if(Object.hasOwn(p,h)){v.pop();continue}m[h]=!0,p[h]=!0}var k=_.predecessors(h);E<k.length?(l[1]=E+1,v.push([k[E],0])):(delete m[h],b.push(h),v.pop())}}if(_.sinks().forEach(g),Object.keys(p).length!==_.nodeCount())throw new w;return b}var w=class extends Error{constructor(){super(...arguments)}};j.exports=q,q.CycleException=w}}),X=n({"lib/alg/is-acyclic.js"(T,j){var q=Y();j.exports=w;function w(_){try{q(_)}catch(p){if(p instanceof q.CycleException)return!1;throw p}return!0}}}),z=n({"lib/alg/reduce.js"(T,j){j.exports=q;function q(_,p,m,b,g){Array.isArray(p)||(p=[p]);var x=(_.isDirected()?_.successors:_.neighbors).bind(_),v={};return p.forEach(function(l){if(!_.hasNode(l))throw new Error("Graph does not have node: "+l);g=w(_,l,m==="post",v,x,b,g)}),g}function w(_,p,m,b,g,x,v){if(Object.hasOwn(b,p))return v;var l=[[p,0]];for(b[p]=!0,m||(v=x(v,p));l.length>0;){for(var h=l[l.length-1],E=h[0],k=g(E),y=h[1],O=!1,I=y;I<k.length;I++){var L=k[I];if(!Object.hasOwn(b,L)){b[L]=!0,h[1]=I+1,m||(v=x(v,L)),l.push([L,0]),O=!0;break}}O||(m&&(v=x(v,E)),l.pop())}return v}}}),fe=n({"lib/alg/dfs.js"(T,j){var q=z();j.exports=w;function w(_,p,m){return q(_,p,m,function(b,g){return b.push(g),b},[])}}}),Jr=n({"lib/alg/postorder.js"(T,j){var q=fe();j.exports=w;function w(_,p){return q(_,p,"post")}}}),Kr=n({"lib/alg/preorder.js"(T,j){var q=fe();j.exports=w;function w(_,p){return q(_,p,"pre")}}}),Zr=n({"lib/alg/prim.js"(T,j){var q=a(),w=c();j.exports=_;function _(p,m){var b=new q,g={},x=new w,v;function l(E){var k=E.v===v?E.w:E.v,y=x.priority(k);if(y!==void 0){var O=m(E);O<y&&(g[k]=v,x.decrease(k,O))}}if(p.nodeCount()===0)return b;p.nodes().forEach(function(E){x.add(E,Number.POSITIVE_INFINITY),b.setNode(E)}),x.decrease(p.nodes()[0],0);for(var h=!1;x.size()>0;){if(v=x.removeMin(),Object.hasOwn(g,v))b.setEdge(v,g[v]);else{if(h)throw new Error("Input graph is not connected: "+p);h=!0}p.nodeEdges(v).forEach(l)}return b}}}),$r=n({"lib/alg/shortest-paths.js"(T,j){var q=N(),w=u();j.exports=_;function _(m,b,g,x){return p(m,b,g,x||function(v){return m.outEdges(v)})}function p(m,b,g,x){if(g===void 0)return q(m,b,g,x);for(var v=!1,l=m.nodes(),h=0;h<l.length;h++){for(var E=x(l[h]),k=0;k<E.length;k++){var y=E[k],O=y.v===l[h]?y.v:y.w,I=O===y.v?y.w:y.v;g({v:O,w:I})<0&&(v=!0)}if(v)return w(m,b,g,x)}return q(m,b,g,x)}}}),et=n({"lib/alg/index.js"(T,j){j.exports={bellmanFord:u(),components:f(),dijkstra:N(),dijkstraAll:C(),extractPath:S(),findCycles:P(),floydWarshall:D(),isAcyclic:X(),postorder:Jr(),preorder:Kr(),prim:Zr(),shortestPaths:$r(),reduce:z(),tarjan:M(),topsort:Y()}}}),rt=n({"index.js"(T,j){var q=o();j.exports={Graph:q.Graph,json:d(),alg:et(),version:q.version}}});return rt()})();pe.exports=tt});var me=R((Bi,ve)=>{var ee=class{constructor(){let r={};r._next=r._prev=r,this._sentinel=r}dequeue(){let r=this._sentinel,t=r._prev;if(t!==r)return be(t),t}enqueue(r){let t=this._sentinel;r._prev&&r._next&&be(r),r._next=t._next,t._next._prev=r,t._next=r,r._prev=t}toString(){let r=[],t=this._sentinel,n=t._prev;for(;n!==t;)r.push(JSON.stringify(n,nt)),n=n._prev;return"["+r.join(", ")+"]"}};function be(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function nt(e,r){if(e!=="_next"&&e!=="_prev")return r}ve.exports=ee});var ge=R((Wi,we)=>{var it=A().Graph,st=me();we.exports=ot;var at=()=>1;function ot(e,r){if(e.nodeCount()<=1)return[];let t=dt(e,r||at);return lt(t.graph,t.buckets,t.zeroIdx).flatMap(i=>e.outEdges(i.v,i.w))}function lt(e,r,t){let n=[],i=r[r.length-1],a=r[0],s;for(;e.nodeCount();){for(;s=a.dequeue();)re(e,r,t,s);for(;s=i.dequeue();)re(e,r,t,s);if(e.nodeCount()){for(let o=r.length-2;o>0;--o)if(s=r[o].dequeue(),s){n=n.concat(re(e,r,t,s,!0));break}}}return n}function re(e,r,t,n,i){let a=i?[]:void 0;return e.inEdges(n.v).forEach(s=>{let o=e.edge(s),d=e.node(s.v);i&&a.push({v:s.v,w:s.w}),d.out-=o,te(r,t,d)}),e.outEdges(n.v).forEach(s=>{let o=e.edge(s),d=s.w,u=e.node(d);u.in-=o,te(r,t,u)}),e.removeNode(n.v),a}function dt(e,r){let t=new it,n=0,i=0;e.nodes().forEach(o=>{t.setNode(o,{v:o,in:0,out:0})}),e.edges().forEach(o=>{let d=t.edge(o.v,o.w)||0,u=r(o),f=d+u;t.setEdge(o.v,o.w,f),i=Math.max(i,t.node(o.v).out+=u),n=Math.max(n,t.node(o.w).in+=u)});let a=ut(i+n+3).map(()=>new st),s=n+1;return t.nodes().forEach(o=>{te(a,s,t.node(o))}),{graph:t,buckets:a,zeroIdx:s}}function te(e,r,t){t.out?t.in?e[t.out-t.in+r].enqueue(t):e[e.length-1].enqueue(t):e[0].enqueue(t)}function ut(e){let r=[];for(let t=0;t<e;t++)r.push(t);return r}});var G=R((zi,Oe)=>{"use strict";var Ee=A().Graph;Oe.exports={addBorderNode:gt,addDummyNode:_e,applyWithChunking:Q,asNonCompoundGraph:ft,buildLayerMatrix:vt,intersectRect:bt,mapValues:Ot,maxRank:ke,normalizeRanks:mt,notime:kt,partition:Et,pick:yt,predecessorWeights:pt,range:ye,removeEmptyRanks:wt,simplify:ht,successorWeights:ct,time:_t,uniqueId:xe,zipObject:ne};function _e(e,r,t,n){for(var i=n;e.hasNode(i);)i=xe(n);return t.dummy=r,e.setNode(i,t),i}function ht(e){let r=new Ee().setGraph(e.graph());return e.nodes().forEach(t=>r.setNode(t,e.node(t))),e.edges().forEach(t=>{let n=r.edge(t.v,t.w)||{weight:0,minlen:1},i=e.edge(t);r.setEdge(t.v,t.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),r}function ft(e){let r=new Ee({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(t=>{e.children(t).length||r.setNode(t,e.node(t))}),e.edges().forEach(t=>{r.setEdge(t,e.edge(t))}),r}function ct(e){let r=e.nodes().map(t=>{let n={};return e.outEdges(t).forEach(i=>{n[i.w]=(n[i.w]||0)+e.edge(i).weight}),n});return ne(e.nodes(),r)}function pt(e){let r=e.nodes().map(t=>{let n={};return e.inEdges(t).forEach(i=>{n[i.v]=(n[i.v]||0)+e.edge(i).weight}),n});return ne(e.nodes(),r)}function bt(e,r){let t=e.x,n=e.y,i=r.x-t,a=r.y-n,s=e.width/2,o=e.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");let d,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),d=o*i/a,u=o):(i<0&&(s=-s),d=s,u=s*a/i),{x:t+d,y:n+u}}function vt(e){let r=ye(ke(e)+1).map(()=>[]);return e.nodes().forEach(t=>{let n=e.node(t),i=n.rank;i!==void 0&&(r[i][n.order]=t)}),r}function mt(e){let r=e.nodes().map(n=>{let i=e.node(n).rank;return i===void 0?Number.MAX_VALUE:i}),t=Q(Math.min,r);e.nodes().forEach(n=>{let i=e.node(n);Object.hasOwn(i,"rank")&&(i.rank-=t)})}function wt(e){let r=e.nodes().map(s=>e.node(s).rank).filter(s=>s!==void 0),t=Q(Math.min,r),n=[];e.nodes().forEach(s=>{let o=e.node(s).rank-t;n[o]||(n[o]=[]),n[o].push(s)});let i=0,a=e.graph().nodeRankFactor;Array.from(n).forEach((s,o)=>{s===void 0&&o%a!==0?--i:s!==void 0&&i&&s.forEach(d=>e.node(d).rank+=i)})}function gt(e,r,t,n){let i={width:0,height:0};return arguments.length>=4&&(i.rank=t,i.order=n),_e(e,"border",i,r)}function Q(e,r){if(r.length===0)return e();let t=r[0];for(let n=1;n<r.length;n++)t=e(t,r[n]);return t}function ke(e){let t=e.nodes().map(n=>{let i=e.node(n).rank;return i===void 0?Number.MIN_VALUE:i});return Q(Math.max,t)}function Et(e,r){let t={lhs:[],rhs:[]};return e.forEach(n=>{r(n)?t.lhs.push(n):t.rhs.push(n)}),t}function _t(e,r){let t=Date.now();try{return r()}finally{console.log(e+" time: "+(Date.now()-t)+"ms")}}function kt(e,r){return r()}var xt=0;function xe(e){var r=++xt;return e+(""+r)}function ye(e,r,t=1){r==null&&(r=e,e=0);let n=a=>a<r;t<0&&(n=a=>r<a);let i=[];for(let a=e;n(a);a+=t)i.push(a);return i}function yt(e,r){let t={};for(let n of r)e[n]!==void 0&&(t[n]=e[n]);return t}function Ot(e,r){let t=r;return typeof r=="string"&&(t=n=>n[r]),Object.entries(e).reduce((n,[i,a])=>(n[i]=t(a,i),n),{})}function ne(e,r){return e.reduce((t,n,i)=>(t[n]=r[i],t),{})}});var je=R((Ui,Ne)=>{"use strict";var Nt=ge(),jt=G().uniqueId;Ne.exports={run:It,undo:qt};function It(e){(e.graph().acyclicer==="greedy"?Nt(e,t(e)):Ct(e)).forEach(n=>{let i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,jt("rev"))});function t(n){return i=>n.edge(i).weight}}function Ct(e){let r=[],t={},n={};function i(a){let s=[[a,0]];for(;s.length>0;){let[o,d]=s[s.length-1];if(d===0){if(Object.hasOwn(n,o)){s.pop();continue}n[o]=!0,t[o]=!0}let u=e.outEdges(o);if(d<u.length){s[s.length-1][1]=d+1;let f=u[d];Object.hasOwn(t,f.w)?r.push(f):s.push([f.w,0])}else delete t[o],s.pop()}}return e.nodes().forEach(i),r}function qt(e){e.edges().forEach(r=>{let t=e.edge(r);if(t.reversed){e.removeEdge(r);let n=t.forwardName;delete t.reversed,delete t.forwardName,e.setEdge(r.w,r.v,t,n)}})}});var Ce=R((Hi,Ie)=>{"use strict";var Lt=G();Ie.exports={run:Tt,undo:Mt};function Tt(e){e.graph().dummyChains=[],e.edges().forEach(r=>Rt(e,r))}function Rt(e,r){let t=r.v,n=e.node(t).rank,i=r.w,a=e.node(i).rank,s=r.name,o=e.edge(r),d=o.labelRank;if(a===n+1)return;e.removeEdge(r);let u,f,c;for(c=0,++n;n<a;++c,++n)o.points=[],f={width:0,height:0,edgeLabel:o,edgeObj:r,rank:n},u=Lt.addDummyNode(e,"edge",f,"_d"),n===d&&(f.width=o.width,f.height=o.height,f.dummy="edge-label",f.labelpos=o.labelpos),e.setEdge(t,u,{weight:o.weight},s),c===0&&e.graph().dummyChains.push(u),t=u;e.setEdge(t,i,{weight:o.weight},s)}function Mt(e){e.graph().dummyChains.forEach(r=>{let t=e.node(r),n=t.edgeLabel,i;for(e.setEdge(t.edgeObj,n);t.dummy;)i=e.successors(r)[0],e.removeNode(r),n.points.push({x:t.x,y:t.y}),t.dummy==="edge-label"&&(n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height),r=i,t=e.node(r)})}});var H=R((Xi,qe)=>{"use strict";var{applyWithChunking:St}=G();qe.exports={longestPath:Pt,slack:Ft};function Pt(e){var r={};function t(n){let i=[[n,!1]];for(;i.length>0;){let[o,d]=i[i.length-1];if(Object.hasOwn(r,o)){i.pop();continue}if(d){i.pop(),r[o]=!0;var a=e.node(o);let u=e.outEdges(o).map(f=>f==null?Number.POSITIVE_INFINITY:e.node(f.w).rank-e.edge(f).minlen);var s=St(Math.min,u);s===Number.POSITIVE_INFINITY&&(s=0),a.rank=s}else{i[i.length-1][1]=!0;let u=e.outEdges(o);for(let f=u.length-1;f>=0;f--){let c=u[f];c!=null&&!Object.hasOwn(r,c.w)&&i.push([c.w,!1])}}}}e.sources().forEach(t)}function Ft(e,r){return e.node(r.w).rank-e.node(r.v).rank-e.edge(r).minlen}});var ie=R((Qi,Le)=>{"use strict";var Gt=A().Graph,J=H().slack;Le.exports=Dt;function Dt(e){var r=new Gt({directed:!1}),t=e.nodes()[0],n=e.nodeCount();r.setNode(t,{});for(var i,a;At(r,e)<n;)i=Vt(r,e),a=r.hasNode(i.v)?J(e,i):-J(e,i),Yt(r,e,a);return r}function At(e,r){function t(n){let i=[n];for(;i.length>0;){let a=i.pop();r.nodeEdges(a).forEach(s=>{var o=s.v,d=a===o?s.w:o;!e.hasNode(d)&&!J(r,s)&&(e.setNode(d,{}),e.setEdge(a,d,{}),i.push(d))})}}return e.nodes().forEach(t),e.nodeCount()}function Vt(e,r){return r.edges().reduce((n,i)=>{let a=Number.POSITIVE_INFINITY;return e.hasNode(i.v)!==e.hasNode(i.w)&&(a=J(r,i)),a<n[0]?[a,i]:n},[Number.POSITIVE_INFINITY,null])[1]}function Yt(e,r,t){e.nodes().forEach(n=>r.node(n).rank+=t)}});var De=R((Ji,Ge)=>{"use strict";var Bt=ie(),Te=H().slack,Wt=H().longestPath,zt=A().alg.preorder,Ut=A().alg.postorder,Ht=G().simplify;Ge.exports=W;W.initLowLimValues=ae;W.initCutValues=se;W.calcCutValue=Me;W.leaveEdge=Se;W.enterEdge=Pe;W.exchangeEdges=Fe;function W(e){e=Ht(e),Wt(e);var r=Bt(e);ae(r),se(r,e);for(var t,n;t=Se(r);)n=Pe(r,e,t),Fe(r,e,t,n)}function se(e,r){var t=Ut(e,e.nodes());t=t.slice(0,t.length-1),t.forEach(n=>Xt(e,r,n))}function Xt(e,r,t){var n=e.node(t),i=n.parent;e.edge(t,i).cutvalue=Me(e,r,t)}function Me(e,r,t){var n=e.node(t),i=n.parent,a=!0,s=r.edge(t,i),o=0;return s||(a=!1,s=r.edge(i,t)),o=s.weight,r.nodeEdges(t).forEach(d=>{var u=d.v===t,f=u?d.w:d.v;if(f!==i){var c=u===a,N=r.edge(d).weight;if(o+=c?N:-N,Kt(e,t,f)){var C=e.edge(t,f).cutvalue;o+=c?-C:C}}}),o}function ae(e,r){arguments.length<2&&(r=e.nodes()[0]),Qt(e,{},1,r)}function Qt(e,r,t,n,i){let a=[[n,i,0,t]];for(;a.length>0;){let s=a[a.length-1],[o,d,u,f]=s;u===0&&(r[o]=!0);let c=e.neighbors(o),N=!1;for(let C=u;C<c.length;C++){let S=c[C];if(!Object.hasOwn(r,S)){s[2]=C+1,a.push([S,o,0,t]),N=!0;break}}if(!N){let C=e.node(o);C.low=f,C.lim=t++,d?C.parent=d:delete C.parent,a.pop()}}return t}function Se(e){return e.edges().find(r=>e.edge(r).cutvalue<0)}function Pe(e,r,t){var n=t.v,i=t.w;r.hasEdge(n,i)||(n=t.w,i=t.v);var a=e.node(n),s=e.node(i),o=a,d=!1;a.lim>s.lim&&(o=s,d=!0);var u=r.edges().filter(f=>d===Re(e,e.node(f.v),o)&&d!==Re(e,e.node(f.w),o));return u.reduce((f,c)=>Te(r,c)<Te(r,f)?c:f)}function Fe(e,r,t,n){var i=t.v,a=t.w;e.removeEdge(i,a),e.setEdge(n.v,n.w,{}),ae(e),se(e,r),Jt(e,r)}function Jt(e,r){var t=e.nodes().find(i=>!r.node(i).parent),n=zt(e,t);n=n.slice(1),n.forEach(i=>{var a=e.node(i).parent,s=r.edge(i,a),o=!1;s||(s=r.edge(a,i),o=!0),r.node(i).rank=r.node(a).rank+(o?s.minlen:-s.minlen)})}function Kt(e,r,t){return e.hasEdge(r,t)}function Re(e,r,t){return t.low<=r.lim&&r.lim<=t.lim}});var Be=R((Ki,Ye)=>{"use strict";var Zt=H(),Ve=Zt.longestPath,$t=ie(),en=De();Ye.exports=rn;function rn(e){var r=e.graph().ranker;if(r instanceof Function)return r(e);switch(e.graph().ranker){case"network-simplex":Ae(e);break;case"tight-tree":nn(e);break;case"longest-path":tn(e);break;case"none":break;default:Ae(e)}}var tn=Ve;function nn(e){Ve(e),$t(e)}function Ae(e){en(e)}});var ze=R((Zi,We)=>{We.exports=sn;function sn(e){let r=on(e);e.graph().dummyChains.forEach(t=>{let n=e.node(t),i=n.edgeObj,a=an(e,r,i.v,i.w),s=a.path,o=a.lca,d=0,u=s[d],f=!0;for(;t!==i.w;){if(n=e.node(t),f){for(;(u=s[d])!==o&&e.node(u).maxRank<n.rank;)d++;u===o&&(f=!1)}if(!f){for(;d<s.length-1&&e.node(u=s[d+1]).minRank<=n.rank;)d++;u=s[d]}e.setParent(t,u),t=e.successors(t)[0]}})}function an(e,r,t,n){let i=[],a=[],s=Math.min(r[t].low,r[n].low),o=Math.max(r[t].lim,r[n].lim),d,u;d=t;do d=e.parent(d),i.push(d);while(d&&(r[d].low>s||o>r[d].lim));for(u=d,d=n;(d=e.parent(d))!==u;)a.push(d);return{path:i.concat(a.reverse()),lca:u}}function on(e){let r={},t=0,n=[];for(e.children().forEach(i=>n.push([i,!1,0]));n.length>0;){let i=n[n.length-1],[a,s]=i;if(s)n.pop(),r[a]={low:i[2],lim:t++};else{i[1]=!0,i[2]=t;let o=e.children(a);for(let d=o.length-1;d>=0;d--)n.push([o[d],!1,0])}}return r}});var He=R(($i,Ue)=>{var K=G();Ue.exports={run:ln,cleanup:fn};function ln(e){let r=K.addDummyNode(e,"root",{},"_root"),t=un(e),n=Object.values(t),i=K.applyWithChunking(Math.max,n)-1,a=2*i+1;e.graph().nestingRoot=r,e.edges().forEach(o=>e.edge(o).minlen*=a);let s=hn(e)+1;e.children().forEach(o=>dn(e,r,a,s,i,t,o)),e.graph().nodeRankFactor=a}function dn(e,r,t,n,i,a,s){let o=[[s,!1]];for(;o.length>0;){let d=o[o.length-1],[u,f]=d,c=e.children(u);if(!c.length){o.pop(),u!==r&&e.setEdge(r,u,{weight:0,minlen:t});continue}if(!f){d[1]=!0;for(let M=c.length-1;M>=0;M--)o.push([c[M],!1]);continue}o.pop();let N=K.addBorderNode(e,"_bt"),C=K.addBorderNode(e,"_bb"),S=e.node(u);e.setParent(N,u),S.borderTop=N,e.setParent(C,u),S.borderBottom=C,c.forEach(M=>{let P=e.node(M),D=P.borderTop?P.borderTop:M,Y=P.borderBottom?P.borderBottom:M,X=P.borderTop?n:2*n,z=D!==Y?1:i-a[u]+1;e.setEdge(N,D,{weight:X,minlen:z,nestingEdge:!0}),e.setEdge(Y,C,{weight:X,minlen:z,nestingEdge:!0})}),e.parent(u)||e.setEdge(r,N,{weight:0,minlen:i+a[u]})}}function un(e){var r={};let t=[];for(e.children().forEach(i=>t.push([i,1]));t.length>0;){let[i,a]=t.pop();var n=e.children(i);n&&n.length&&n.forEach(s=>t.push([s,a+1])),r[i]=a}return r}function hn(e){return e.edges().reduce((r,t)=>r+e.edge(t).weight,0)}function fn(e){var r=e.graph();e.removeNode(r.nestingRoot),delete r.nestingRoot,e.edges().forEach(t=>{var n=e.edge(t);n.nestingEdge&&e.removeEdge(t)})}});var Je=R((es,Qe)=>{var cn=G();Qe.exports=pn;function pn(e){let r=[];for(e.children().forEach(t=>r.push([t,!1]));r.length>0;){let t=r[r.length-1],[n,i]=t,a=e.children(n);if(a.length&&!i){t[1]=!0;for(let o=a.length-1;o>=0;o--)r.push([a[o],!1]);continue}r.pop();let s=e.node(n);if(Object.hasOwn(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(let o=s.minRank,d=s.maxRank+1;o<d;++o)Xe(e,"borderLeft","_bl",n,s,o),Xe(e,"borderRight","_br",n,s,o)}}}function Xe(e,r,t,n,i,a){let s={width:0,height:0,rank:a,borderType:r},o=i[r][a-1],d=cn.addDummyNode(e,"border",s,t);i[r][a]=d,e.setParent(d,n),o&&e.setEdge(o,d,{weight:1})}});var er=R((rs,$e)=>{"use strict";$e.exports={adjust:bn,undo:vn};function bn(e){let r=e.graph().rankdir.toLowerCase();(r==="lr"||r==="rl")&&Ze(e)}function vn(e){let r=e.graph().rankdir.toLowerCase();(r==="bt"||r==="rl")&&mn(e),(r==="lr"||r==="rl")&&(wn(e),Ze(e))}function Ze(e){e.nodes().forEach(r=>Ke(e.node(r))),e.edges().forEach(r=>Ke(e.edge(r)))}function Ke(e){let r=e.width;e.width=e.height,e.height=r}function mn(e){e.nodes().forEach(r=>oe(e.node(r))),e.edges().forEach(r=>{let t=e.edge(r);t.points.forEach(oe),Object.hasOwn(t,"y")&&oe(t)})}function oe(e){e.y=-e.y}function wn(e){e.nodes().forEach(r=>le(e.node(r))),e.edges().forEach(r=>{let t=e.edge(r);t.points.forEach(le),Object.hasOwn(t,"x")&&le(t)})}function le(e){let r=e.x;e.x=e.y,e.y=r}});var nr=R((ts,tr)=>{"use strict";var rr=G();tr.exports=gn;function gn(e){let r={},t=e.nodes().filter(d=>!e.children(d).length),n=t.map(d=>e.node(d).rank),i=rr.applyWithChunking(Math.max,n),a=rr.range(i+1).map(()=>[]);function s(d){let u=[d];for(;u.length>0;){let f=u.pop();if(r[f])continue;r[f]=!0;let c=e.node(f);a[c.rank].push(f);let N=e.successors(f);for(let C=N.length-1;C>=0;C--)u.push(N[C])}}return t.sort((d,u)=>e.node(d).rank-e.node(u).rank).forEach(s),a}});var sr=R((ns,ir)=>{"use strict";var En=G().zipObject;ir.exports=_n;function _n(e,r){let t=0;for(let n=1;n<r.length;++n)t+=kn(e,r[n-1],r[n]);return t}function kn(e,r,t){let n=En(t,t.map((u,f)=>f)),i=r.flatMap(u=>e.outEdges(u).map(f=>({pos:n[f.w],weight:e.edge(f).weight})).sort((f,c)=>f.pos-c.pos)),a=1;for(;a<t.length;)a<<=1;let s=2*a-1;a-=1;let o=new Array(s).fill(0),d=0;return i.forEach(u=>{let f=u.pos+a;o[f]+=u.weight;let c=0;for(;f>0;)f%2&&(c+=o[f+1]),f=f-1>>1,o[f]+=u.weight;d+=u.weight*c}),d}});var or=R((is,ar)=>{ar.exports=xn;function xn(e,r=[]){return r.map(t=>{let n=e.inEdges(t);if(n.length){let i=n.reduce((a,s)=>{let o=e.edge(s),d=e.node(s.v);return{sum:a.sum+o.weight*d.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:t,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:t}})}});var dr=R((ss,lr)=>{"use strict";var yn=G();lr.exports=On;function On(e,r){let t={};e.forEach((i,a)=>{let s=t[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};i.barycenter!==void 0&&(s.barycenter=i.barycenter,s.weight=i.weight)}),r.edges().forEach(i=>{let a=t[i.v],s=t[i.w];a!==void 0&&s!==void 0&&(s.indegree++,a.out.push(t[i.w]))});let n=Object.values(t).filter(i=>!i.indegree);return Nn(n)}function Nn(e){let r=[];function t(i){return a=>{a.merged||(a.barycenter===void 0||i.barycenter===void 0||a.barycenter>=i.barycenter)&&jn(i,a)}}function n(i){return a=>{a.in.push(i),--a.indegree===0&&e.push(a)}}for(;e.length;){let i=e.pop();r.push(i),i.in.reverse().forEach(t(i)),i.out.forEach(n(i))}return r.filter(i=>!i.merged).map(i=>yn.pick(i,["vs","i","barycenter","weight"]))}function jn(e,r){let t=0,n=0;e.weight&&(t+=e.barycenter*e.weight,n+=e.weight),r.weight&&(t+=r.barycenter*r.weight,n+=r.weight),e.vs=r.vs.concat(e.vs),e.barycenter=t/n,e.weight=n,e.i=Math.min(r.i,e.i),r.merged=!0}});var fr=R((as,hr)=>{var In=G();hr.exports=Cn;function Cn(e,r){let t=In.partition(e,f=>Object.hasOwn(f,"barycenter")),n=t.lhs,i=t.rhs.sort((f,c)=>c.i-f.i),a=[],s=0,o=0,d=0;n.sort(qn(!!r)),d=ur(a,i,d),n.forEach(f=>{d+=f.vs.length,a.push(f.vs),s+=f.barycenter*f.weight,o+=f.weight,d=ur(a,i,d)});let u={vs:a.flat(!0)};return o&&(u.barycenter=s/o,u.weight=o),u}function ur(e,r,t){let n;for(;r.length&&(n=r[r.length-1]).i<=t;)r.pop(),e.push(n.vs),t++;return t}function qn(e){return(r,t)=>r.barycenter<t.barycenter?-1:r.barycenter>t.barycenter?1:e?t.i-r.i:r.i-t.i}});var br=R((os,pr)=>{var cr=or(),Ln=dr(),Tn=fr();pr.exports=Rn;function Rn(e,r,t,n){let i=[],a=[r];for(;a.length>0;){let o=a.pop();i.push(o);let d=e.children(o),u=e.node(o),f=u?u.borderLeft:void 0;f&&(d=d.filter(N=>N!==f&&N!==u.borderRight));let c=cr(e,d);for(let N=c.length-1;N>=0;N--)e.children(c[N].v).length&&a.push(c[N].v)}let s={};for(let o=i.length-1;o>=0;o--){let d=i[o],u=e.children(d),f=e.node(d),c=f?f.borderLeft:void 0,N=f?f.borderRight:void 0,C={};c&&(u=u.filter(D=>D!==c&&D!==N));let S=cr(e,u);S.forEach(D=>{if(e.children(D.v).length){let Y=s[D.v];C[D.v]=Y,Object.hasOwn(Y,"barycenter")&&Sn(D,Y)}});let M=Ln(S,t);Mn(M,C);let P=Tn(M,n);if(c&&(P.vs=[c,P.vs,N].flat(!0),e.predecessors(c).length)){let D=e.node(e.predecessors(c)[0]),Y=e.node(e.predecessors(N)[0]);Object.hasOwn(P,"barycenter")||(P.barycenter=0,P.weight=0),P.barycenter=(P.barycenter*P.weight+D.order+Y.order)/(P.weight+2),P.weight+=2}s[d]=P}return s[r]}function Mn(e,r){e.forEach(t=>{t.vs=t.vs.flatMap(n=>r[n]?r[n].vs:n)})}function Sn(e,r){e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+r.barycenter*r.weight)/(e.weight+r.weight),e.weight+=r.weight):(e.barycenter=r.barycenter,e.weight=r.weight)}});var mr=R((ls,vr)=>{var Pn=A().Graph,Fn=G();vr.exports=Gn;function Gn(e,r,t,n){n||(n=e.nodes());let i=Dn(e),a=new Pn({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(s=>e.node(s));return n.forEach(s=>{let o=e.node(s),d=e.parent(s);(o.rank===r||o.minRank<=r&&r<=o.maxRank)&&(a.setNode(s),a.setParent(s,d||i),e[t](s).forEach(u=>{let f=u.v===s?u.w:u.v,c=a.edge(f,s),N=c!==void 0?c.weight:0;a.setEdge(f,s,{weight:e.edge(u).weight+N})}),Object.hasOwn(o,"minRank")&&a.setNode(s,{borderLeft:o.borderLeft[r],borderRight:o.borderRight[r]}))}),a}function Dn(e){for(var r;e.hasNode(r=Fn.uniqueId("_root")););return r}});var gr=R((ds,wr)=>{wr.exports=An;function An(e,r,t){let n={},i;t.forEach(a=>{let s=e.parent(a),o,d;for(;s;){if(o=e.parent(s),o?(d=n[o],n[o]=s):(d=i,i=s),d&&d!==s){r.setEdge(d,s);return}s=o}})}});var yr=R((us,xr)=>{"use strict";var Vn=nr(),Yn=sr(),Bn=br(),Wn=mr(),zn=gr(),Un=A().Graph,Z=G();xr.exports=kr;function kr(e,r={}){if(typeof r.customOrder=="function"){r.customOrder(e,kr);return}let t=Z.maxRank(e),n=Er(e,Z.range(1,t+1),"inEdges"),i=Er(e,Z.range(t-1,-1,-1),"outEdges"),a=Vn(e);if(_r(e,a),r.disableOptimalOrderHeuristic)return;let s=Number.POSITIVE_INFINITY,o,d=r.constraints||[];for(let u=0,f=0;f<4;++u,++f){Hn(u%2?n:i,u%4>=2,d),a=Z.buildLayerMatrix(e);let c=Yn(e,a);c<s?(f=0,o=Object.assign({},a),s=c):c===s&&(o=structuredClone(a))}_r(e,o)}function Er(e,r,t){let n=new Map,i=(a,s)=>{n.has(a)||n.set(a,[]),n.get(a).push(s)};for(let a of e.nodes()){let s=e.node(a);if(typeof s.rank=="number"&&i(s.rank,a),typeof s.minRank=="number"&&typeof s.maxRank=="number")for(let o=s.minRank;o<=s.maxRank;o++)o!==s.rank&&i(o,a)}return r.map(function(a){return Wn(e,a,t,n.get(a)||[])})}function Hn(e,r,t){let n=new Un;e.forEach(function(i){t.forEach(o=>n.setEdge(o.left,o.right));let a=i.graph().root,s=Bn(i,a,n,r);s.vs.forEach((o,d)=>i.node(o).order=d),zn(i,n,s.vs)})}function _r(e,r){Object.values(r).forEach(t=>t.forEach((n,i)=>e.node(n).order=i))}});var Mr=R((hs,Rr)=>{"use strict";var Xn=A().Graph,B=G();Rr.exports={positionX:Kn,findType1Conflicts:Or,findType2Conflicts:Nr,addConflict:de,hasConflict:jr,verticalAlignment:Ir,horizontalCompaction:Cr,alignCoordinates:Lr,findSmallestWidthAlignment:qr,balance:Tr};function Or(e,r){let t={};function n(i,a){let s=0,o=0,d=i.length,u=a[a.length-1];return a.forEach((f,c)=>{let N=Qn(e,f),C=N?e.node(N).order:d;(N||f===u)&&(a.slice(o,c+1).forEach(S=>{e.predecessors(S).forEach(M=>{let P=e.node(M),D=P.order;(D<s||C<D)&&!(P.dummy&&e.node(S).dummy)&&de(t,M,S)})}),o=c+1,s=C)}),a}return r.length&&r.reduce(n),t}function Nr(e,r){let t={};function n(a,s,o,d,u){let f;B.range(s,o).forEach(c=>{f=a[c],e.node(f).dummy&&e.predecessors(f).forEach(N=>{let C=e.node(N);C.dummy&&(C.order<d||C.order>u)&&de(t,N,f)})})}function i(a,s){let o=-1,d,u=0;return s.forEach((f,c)=>{if(e.node(f).dummy==="border"){let N=e.predecessors(f);N.length&&(d=e.node(N[0]).order,n(s,u,c,o,d),u=c,o=d)}n(s,u,s.length,d,a.length)}),s}return r.length&&r.reduce(i),t}function Qn(e,r){if(e.node(r).dummy)return e.predecessors(r).find(t=>e.node(t).dummy)}function de(e,r,t){if(r>t){let i=r;r=t,t=i}let n=e[r];n||(e[r]=n={}),n[t]=!0}function jr(e,r,t){if(r>t){let n=r;r=t,t=n}return!!e[r]&&Object.hasOwn(e[r],t)}function Ir(e,r,t,n){let i={},a={},s={};return r.forEach(o=>{o.forEach((d,u)=>{i[d]=d,a[d]=d,s[d]=u})}),r.forEach(o=>{let d=-1;o.forEach(u=>{let f=n(u);if(f.length){f=f.sort((N,C)=>s[N]-s[C]);let c=(f.length-1)/2;for(let N=Math.floor(c),C=Math.ceil(c);N<=C;++N){let S=f[N];a[u]===u&&d<s[S]&&!jr(t,u,S)&&(a[S]=u,a[u]=i[u]=i[S],d=s[S])}}})}),{root:i,align:a}}function Cr(e,r,t,n,i){let a={},s=Jn(e,r,t,i),o=i?"borderLeft":"borderRight";function d(c,N){let C=s.nodes().slice(),S={},M=C.pop();for(;M;){if(S[M])c(M);else{S[M]=!0,C.push(M);for(let P of N(M))C.push(P)}M=C.pop()}}function u(c){a[c]=s.inEdges(c).reduce((N,C)=>Math.max(N,a[C.v]+s.edge(C)),0)}function f(c){let N=s.outEdges(c).reduce((S,M)=>Math.min(S,a[M.w]-s.edge(M)),Number.POSITIVE_INFINITY),C=e.node(c);N!==Number.POSITIVE_INFINITY&&C.borderType!==o&&(a[c]=Math.max(a[c],N))}return d(u,s.predecessors.bind(s)),d(f,s.successors.bind(s)),Object.keys(n).forEach(c=>a[c]=a[t[c]]),a}function Jn(e,r,t,n){let i=new Xn,a=e.graph(),s=Zn(a.nodesep,a.edgesep,n);return r.forEach(o=>{let d;o.forEach(u=>{let f=t[u];if(i.setNode(f),d){var c=t[d],N=i.edge(c,f);i.setEdge(c,f,Math.max(s(e,u,d),N||0))}d=u})}),i}function qr(e,r){return Object.values(r).reduce((t,n)=>{let i=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;Object.entries(n).forEach(([o,d])=>{let u=$n(e,o)/2;i=Math.max(d+u,i),a=Math.min(d-u,a)});let s=i-a;return s<t[0]&&(t=[s,n]),t},[Number.POSITIVE_INFINITY,null])[1]}function Lr(e,r){let t=Object.values(r),n=B.applyWithChunking(Math.min,t),i=B.applyWithChunking(Math.max,t);["u","d"].forEach(a=>{["l","r"].forEach(s=>{let o=a+s,d=e[o];if(d===r)return;let u=Object.values(d),f=n-B.applyWithChunking(Math.min,u);s!=="l"&&(f=i-B.applyWithChunking(Math.max,u)),f&&(e[o]=B.mapValues(d,c=>c+f))})})}function Tr(e,r){return B.mapValues(e.ul,(t,n)=>{if(r)return e[r.toLowerCase()][n];{let i=Object.values(e).map(a=>a[n]).sort((a,s)=>a-s);return(i[1]+i[2])/2}})}function Kn(e){let r=B.buildLayerMatrix(e),t=Object.assign(Or(e,r),Nr(e,r)),n={},i;["u","d"].forEach(s=>{i=s==="u"?r:Object.values(r).reverse(),["l","r"].forEach(o=>{o==="r"&&(i=i.map(c=>Object.values(c).reverse()));let d=(s==="u"?e.predecessors:e.successors).bind(e),u=Ir(e,i,t,d),f=Cr(e,i,u.root,u.align,o==="r");o==="r"&&(f=B.mapValues(f,c=>-c)),n[s+o]=f})});let a=qr(e,n);return Lr(n,a),Tr(n,e.graph().align)}function Zn(e,r,t){return(n,i,a)=>{let s=n.node(i),o=n.node(a),d=0,u;if(d+=s.width/2,Object.hasOwn(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(d+=t?u:-u),u=0,d+=(s.dummy?r:e)/2,d+=(o.dummy?r:e)/2,d+=o.width/2,Object.hasOwn(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(d+=t?u:-u),u=0,d}}function $n(e,r){return e.node(r).width}});var Fr=R((fs,Pr)=>{"use strict";var Sr=G(),ei=Mr().positionX;Pr.exports=ri;function ri(e){e=Sr.asNonCompoundGraph(e),ti(e),Object.entries(ei(e)).forEach(([r,t])=>e.node(r).x=t)}function ti(e){let r=Sr.buildLayerMatrix(e),t=e.graph().ranksep,n=e.graph().rankalign,i=0;r.forEach(a=>{let s=a.reduce((o,d)=>{let u=e.node(d).height;return o>u?o:u},0);a.forEach(o=>{let d=e.node(o);n==="top"?d.y=i+d.height/2:n==="bottom"?d.y=i+s-d.height/2:d.y=i+s/2}),i+=s+t})}});var Wr=R((cs,Br)=>{"use strict";var Gr=je(),Dr=Ce(),ni=Be(),ii=G().normalizeRanks,si=ze(),ai=G().removeEmptyRanks,Ar=He(),oi=Je(),Vr=er(),li=yr(),di=Fr(),V=G(),ui=A().Graph;Br.exports=hi;function hi(e,r={}){let t=r.debugTiming?V.time:V.notime;return t("layout",()=>{let n=t("  buildLayoutGraph",()=>_i(e));return t("  runLayout",()=>fi(n,t,r)),t("  updateInputGraph",()=>ci(e,n)),n})}function fi(e,r,t){r("    makeSpaceForEdgeLabels",()=>ki(e)),r("    removeSelfEdges",()=>Li(e)),r("    acyclic",()=>Gr.run(e)),r("    nestingGraph.run",()=>Ar.run(e)),r("    rank",()=>ni(V.asNonCompoundGraph(e))),r("    injectEdgeLabelProxies",()=>xi(e)),r("    removeEmptyRanks",()=>ai(e)),r("    nestingGraph.cleanup",()=>Ar.cleanup(e)),r("    normalizeRanks",()=>ii(e)),r("    assignRankMinMax",()=>yi(e)),r("    removeEdgeLabelProxies",()=>Oi(e)),r("    normalize.run",()=>Dr.run(e)),r("    parentDummyChains",()=>si(e)),r("    addBorderSegments",()=>oi(e)),r("    order",()=>li(e,t)),r("    insertSelfEdges",()=>Ti(e)),r("    adjustCoordinateSystem",()=>Vr.adjust(e)),r("    position",()=>di(e)),r("    positionSelfEdges",()=>Ri(e)),r("    removeBorderNodes",()=>qi(e)),r("    normalize.undo",()=>Dr.undo(e)),r("    fixupEdgeLabelCoords",()=>Ii(e)),r("    undoCoordinateSystem",()=>Vr.undo(e)),r("    translateGraph",()=>Ni(e)),r("    assignNodeIntersects",()=>ji(e)),r("    reversePoints",()=>Ci(e)),r("    acyclic.undo",()=>Gr.undo(e))}function ci(e,r){e.nodes().forEach(t=>{let n=e.node(t),i=r.node(t);n&&(n.x=i.x,n.y=i.y,n.order=i.order,n.rank=i.rank,r.children(t).length&&(n.width=i.width,n.height=i.height))}),e.edges().forEach(t=>{let n=e.edge(t),i=r.edge(t);n.points=i.points,Object.hasOwn(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=r.graph().width,e.graph().height=r.graph().height}var pi=["nodesep","edgesep","ranksep","marginx","marginy"],bi={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb",rankalign:"center"},vi=["acyclicer","ranker","rankdir","align","rankalign"],mi=["width","height","rank"],Yr={width:0,height:0},wi=["minlen","weight","width","height","labeloffset"],gi={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ei=["labelpos"];function _i(e){let r=new ui({multigraph:!0,compound:!0}),t=he(e.graph());return r.setGraph(Object.assign({},bi,ue(t,pi),V.pick(t,vi))),e.nodes().forEach(n=>{let i=he(e.node(n)),a=ue(i,mi);Object.keys(Yr).forEach(s=>{a[s]===void 0&&(a[s]=Yr[s])}),r.setNode(n,a),r.setParent(n,e.parent(n))}),e.edges().forEach(n=>{let i=he(e.edge(n));r.setEdge(n,Object.assign({},gi,ue(i,wi),V.pick(i,Ei)))}),r}function ki(e){let r=e.graph();r.ranksep/=2,e.edges().forEach(t=>{let n=e.edge(t);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(r.rankdir==="TB"||r.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function xi(e){e.edges().forEach(r=>{let t=e.edge(r);if(t.width&&t.height){let n=e.node(r.v),a={rank:(e.node(r.w).rank-n.rank)/2+n.rank,e:r};V.addDummyNode(e,"edge-proxy",a,"_ep")}})}function yi(e){let r=0;e.nodes().forEach(t=>{let n=e.node(t);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,r=Math.max(r,n.maxRank))}),e.graph().maxRank=r}function Oi(e){e.nodes().forEach(r=>{let t=e.node(r);t.dummy==="edge-proxy"&&(e.edge(t.e).labelRank=t.rank,e.removeNode(r))})}function Ni(e){let r=Number.POSITIVE_INFINITY,t=0,n=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,o=a.marginy||0;function d(u){let f=u.x,c=u.y,N=u.width,C=u.height;r=Math.min(r,f-N/2),t=Math.max(t,f+N/2),n=Math.min(n,c-C/2),i=Math.max(i,c+C/2)}e.nodes().forEach(u=>d(e.node(u))),e.edges().forEach(u=>{let f=e.edge(u);Object.hasOwn(f,"x")&&d(f)}),r-=s,n-=o,e.nodes().forEach(u=>{let f=e.node(u);f.x-=r,f.y-=n}),e.edges().forEach(u=>{let f=e.edge(u);f.points.forEach(c=>{c.x-=r,c.y-=n}),Object.hasOwn(f,"x")&&(f.x-=r),Object.hasOwn(f,"y")&&(f.y-=n)}),a.width=t-r+s,a.height=i-n+o}function ji(e){e.edges().forEach(r=>{let t=e.edge(r),n=e.node(r.v),i=e.node(r.w),a,s;t.points?(a=t.points[0],s=t.points[t.points.length-1]):(t.points=[],a=i,s=n),t.points.unshift(V.intersectRect(n,a)),t.points.push(V.intersectRect(i,s))})}function Ii(e){e.edges().forEach(r=>{let t=e.edge(r);if(Object.hasOwn(t,"x"))switch((t.labelpos==="l"||t.labelpos==="r")&&(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset;break}})}function Ci(e){e.edges().forEach(r=>{let t=e.edge(r);t.reversed&&t.points.reverse()})}function qi(e){e.nodes().forEach(r=>{if(e.children(r).length){let t=e.node(r),n=e.node(t.borderTop),i=e.node(t.borderBottom),a=e.node(t.borderLeft[t.borderLeft.length-1]),s=e.node(t.borderRight[t.borderRight.length-1]);t.width=Math.abs(s.x-a.x),t.height=Math.abs(i.y-n.y),t.x=a.x+t.width/2,t.y=n.y+t.height/2}}),e.nodes().forEach(r=>{e.node(r).dummy==="border"&&e.removeNode(r)})}function Li(e){e.edges().forEach(r=>{if(r.v===r.w){var t=e.node(r.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e:r,label:e.edge(r)}),e.removeEdge(r)}})}function Ti(e){var r=V.buildLayerMatrix(e);r.forEach(t=>{var n=0;t.forEach((i,a)=>{var s=e.node(i);s.order=a+n,(s.selfEdges||[]).forEach(o=>{V.addDummyNode(e,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++n,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function Ri(e){e.nodes().forEach(r=>{var t=e.node(r);if(t.dummy==="selfedge"){var n=e.node(t.e.v),i=n.x+n.width/2,a=n.y,s=t.x-i,o=n.height/2;e.setEdge(t.e,t.label),e.removeNode(r),t.label.points=[{x:i+2*s/3,y:a-o},{x:i+5*s/6,y:a-o},{x:i+s,y:a},{x:i+5*s/6,y:a+o},{x:i+2*s/3,y:a+o}],t.label.x=t.x,t.label.y=t.y}})}function ue(e,r){return V.mapValues(V.pick(e,r),Number)}function he(e){var r={};return e&&Object.entries(e).forEach(([t,n])=>{typeof t=="string"&&(t=t.toLowerCase()),r[t]=n}),r}});var Ur=R((ps,zr)=>{var Mi=G(),Si=A().Graph;zr.exports={debugOrdering:Pi};function Pi(e){let r=Mi.buildLayerMatrix(e),t=new Si({compound:!0,multigraph:!0}).setGraph({});return e.nodes().forEach(n=>{t.setNode(n,{label:n}),t.setParent(n,"layer"+e.node(n).rank)}),e.edges().forEach(n=>t.setEdge(n.v,n.w,{},n.name)),r.forEach((n,i)=>{let a="layer"+i;t.setNode(a,{rank:"same"}),n.reduce((s,o)=>(t.setEdge(s,o,{style:"invis"}),o))}),t}});var Xr=R((bs,Hr)=>{Hr.exports="2.0.5-pre"});var Fi=R((vs,Qr)=>{Qr.exports={graphlib:A(),layout:Wr(),debug:Ur(),util:{time:G().time,notime:G().notime},version:Xr()}});return Fi();})();
/*! For license information please see dagre.min.js.LEGAL.txt */
//# sourceMappingURL=dagre.min.js.map
